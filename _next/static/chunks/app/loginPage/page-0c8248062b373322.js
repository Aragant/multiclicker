(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[935],{592:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(5155),s=r(6013),l=r(9265),n=r(7349),i=r(2115),o=r(5695);function c(){let[e,t]=(0,i.useState)(!1),r=(0,o.useRouter)();return(0,i.useEffect)(()=>{l.A.clear()},[]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Login Page"}),(0,a.jsxs)(s.A,{className:"border-none shadow-xl overflow-hidden gnassss",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/10 to-indigo-500/10",style:{background:e?"linear-gradient(to right, rgba(139, 92, 246, 0.2), rgba(99, 102, 241, 0.2))":"linear-gradient(to right, rgba(139, 92, 246, 0.1), rgba(99, 102, 241, 0.1))",transition:"background 0.5s ease"}}),(0,a.jsx)(n.A,{onSuccess:()=>{r.push("/game")}})]})]})}},2569:(e,t,r)=>{Promise.resolve().then(r.bind(r,592))},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6013:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155);function s(e){let{children:t,className:r,style:s,...l}=e;return(0,a.jsx)("div",{className:"w-full max-w-md p-4 z-10 page-transition page-enter ".concat(r||""),style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",...s},...l,children:t})}r(2115)},7349:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var a=r(5155),s=r(2115);async function l(e,t){let r=new URLSearchParams;r.append("username",e),r.append("password",t);try{let e=await fetch("".concat("https://api-multiclicker.fly.dev","/auth/login"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!e.ok){let t=await e.json();return{success:!1,message:t.detail||"Login failed",user:{guild_id:"",id:""}}}let t=await e.json();return localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token),{success:!0,message:"Login successful!",user:t.user}}catch(e){return{success:!1,message:"An error occurred while logging in: "+e,user:{guild_id:"",id:""}}}}let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:t,...u,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:c("lucide",i),...!o&&!d(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),h=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:l,...i}=r;return(0,s.createElement)(m,{ref:a,iconNode:t,className:c("lucide-".concat(n(o(e))),"lucide-".concat(e),l),...i})});return r.displayName=o(e),r},g=h("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),p=h("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var x=r(9265),f=r(6874),v=r.n(f);let w=e=>{let{onSuccess:t}=e,[r,n]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{o(!0)},[]);let h=async e=>{e.preventDefault(),n(""),d(!0);let r=new FormData(e.currentTarget),a=r.get("username"),s=r.get("password"),i=await l(a,s);i.success?(x.A.save(i.user.id,i.user.guild_id),t()):(d(!1),n(i.message))};return(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:"space-y-1 text-center relative z-10 truc",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center icon-container",style:{animation:"iconEnter 0.6s ease forwards"},children:(0,a.jsx)(g,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{className:"stagger-container ".concat(i?"animate":""),children:[(0,a.jsx)("div",{className:"stagger-item",children:(0,a.jsx)("h3",{className:"text-2xl font-bold tracking-tight",children:"Bienvenue"})}),(0,a.jsx)("div",{className:"stagger-item",children:(0,a.jsx)("p",{children:"Connectez-vous \xe0 votre compte pour continuer"})})]})]}),(0,a.jsx)("span",{className:"space-y-4 relative z-10",children:(0,a.jsx)("form",{onSubmit:h,className:"stagger-container ".concat(i?"animate":""),children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-2 stagger-item",children:(0,a.jsxs)("div",{className:"relative input-container ".concat("email"===u?"focused":""),children:[(0,a.jsx)("div",{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground input-icon ".concat("email"===u?"focused":""),children:(0,a.jsx)(p,{className:"h-5 w-5"})}),(0,a.jsx)("input",{type:"name",placeholder:"Name",name:"username",className:"pl-10 h-12 rounded-xl transition-all duration-200",style:{boxShadow:"email"===u?"0 0 0 2px rgba(139, 92, 246, 0.3)":"none"},onFocus:()=>m("email"),onBlur:()=>m(null),required:!0})]})}),(0,a.jsxs)("div",{className:"space-y-2 stagger-item",children:[(0,a.jsxs)("div",{className:"relative input-container ".concat("password"===u?"focused":""),children:[(0,a.jsx)("div",{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground input-icon ".concat("password"===u?"focused":""),children:(0,a.jsx)(g,{className:"h-5 w-5"})}),(0,a.jsx)("input",{type:"password",placeholder:"Mot de passe",name:"password",className:"pl-10 h-12 rounded-xl transition-all duration-200",style:{boxShadow:"password"===u?"0 0 0 2px rgba(139, 92, 246, 0.3)":"none"},onFocus:()=>m("password"),onBlur:()=>m(null),required:!0})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)(v(),{href:"#",className:"text-sm text-violet-600 hover:text-violet-700 font-medium transition-transform duration-200 inline-block hover:translate-x-1",children:"Mot de passe oubli\xe9?"})})]}),r&&(0,a.jsx)("div",{className:"text-red-500",children:r}),(0,a.jsx)("div",{className:"stagger-item",children:(0,a.jsx)("button",{type:"submit",className:"w-full  h-12 rounded-xl text-white bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 transition-all duration-300 button-scale",disabled:c,children:c?(0,a.jsx)("div",{className:"spinner",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"})})}):"Se connecter"})})]})})})]})}},9265:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});class a{static save(e,t){try{localStorage.setItem(this.playerIdKey,e),localStorage.setItem(this.guildIdKey,t)}catch(e){console.error("Failed to save player name:",e)}}static getGuildId(){try{let e=localStorage.getItem(this.guildIdKey);if("null"===e)return null;return e}catch(e){return console.error("Failed to get guild ID:",e),null}}static getPlayerId(){try{return localStorage.getItem(this.playerIdKey)}catch(e){return console.error("Failed to get player ID:",e),null}}static clear(){try{localStorage.removeItem(this.playerIdKey),localStorage.removeItem(this.guildIdKey)}catch(e){console.error("Failed to clear player name:",e)}}}a.playerIdKey="player_id",a.guildIdKey="guild_id";let s=a}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(2569)),_N_E=e.O()}]);